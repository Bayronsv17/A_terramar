"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/products/bulk";
exports.ids = ["pages/api/products/bulk"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fbulk&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cbulk.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fbulk&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cbulk.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_products_bulk_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\products\\bulk.js */ \"(api)/./pages/api/products/bulk.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_bulk_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_bulk_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/products/bulk\",\n        pathname: \"/api/products/bulk\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_products_bulk_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnByb2R1Y3RzJTJGYnVsayZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDcHJvZHVjdHMlNUNidWxrLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzREO0FBQzVEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZGluZy1wYWdlLz9kNDEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxccHJvZHVjdHNcXFxcYnVsay5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2R1Y3RzL2J1bGtcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9kdWN0cy9idWxrXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fbulk&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cbulk.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dbConnect.js":
/*!**************************!*\
  !*** ./lib/dbConnect.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25uZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUUvQixNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2QsTUFBTSxJQUFJRyxNQUNOO0FBRVI7QUFFQTs7OztDQUlDLEdBQ0QsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDVEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQzNEO0FBRUEsZUFBZUM7SUFDWCxJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDYixPQUFPRixPQUFPRSxJQUFJO0lBQ3RCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDakIsTUFBTUUsT0FBTztZQUNUQyxnQkFBZ0I7UUFDcEI7UUFFQU4sT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsYUFBYVMsTUFBTUcsSUFBSSxDQUFDLENBQUNiO1lBQ3ZELE9BQU9BO1FBQ1g7SUFDSjtJQUNBLElBQUk7UUFDQUssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDdEMsRUFBRSxPQUFPTSxHQUFHO1FBQ1JULE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNTTtJQUNWO0lBRUEsT0FBT1QsT0FBT0UsSUFBSTtBQUN0QjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZGluZy1wYWdlLy4vbGliL2RiQ29ubmVjdC5qcz8xZDNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUklcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAnUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUgaW5zaWRlIC5lbnYubG9jYWwnXHJcbiAgICApXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHbG9iYWwgaXMgdXNlZCBoZXJlIHRvIG1haW50YWluIGEgY2FjaGVkIGNvbm5lY3Rpb24gYWNyb3NzIGhvdCByZWxvYWRzXHJcbiAqIGluIGRldmVsb3BtZW50LiBUaGlzIHByZXZlbnRzIGNvbm5lY3Rpb25zIGdyb3dpbmcgZXhwb25lbnRpYWxseVxyXG4gKiBkdXJpbmcgQVBJIFJvdXRlIHVzYWdlLlxyXG4gKi9cclxubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZVxyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICAgIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICAgIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQuY29ublxyXG4gICAgfVxyXG5cclxuICAgIGlmICghY2FjaGVkLnByb21pc2UpIHtcclxuICAgICAgICBjb25zdCBvcHRzID0ge1xyXG4gICAgICAgICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkksIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb25nb29zZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2VcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjYWNoZWQucHJvbWlzZSA9IG51bGxcclxuICAgICAgICB0aHJvdyBlXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdFxyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwiY29ubmVjdCIsInRoZW4iLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/dbConnect.js\n");

/***/ }),

/***/ "(api)/./models/Product.js":
/*!***************************!*\
  !*** ./models/Product.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ProductSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    key: {\n        type: String,\n        required: [\n            true,\n            \"La clave del producto es obligatoria\"\n        ],\n        unique: true\n    },\n    name: {\n        type: String,\n        required: [\n            true,\n            \"El nombre del producto es obligatorio\"\n        ]\n    },\n    variant: {\n        type: String\n    },\n    price: {\n        type: Number,\n        required: [\n            true,\n            \"El precio es obligatorio\"\n        ]\n    },\n    originalPrice: {\n        type: Number\n    },\n    category: {\n        type: String,\n        required: [\n            true,\n            \"La categor\\xeda es obligatoria\"\n        ]\n    },\n    image: {\n        type: String\n    },\n    description: {\n        type: String\n    },\n    prices: {\n        MX: {\n            price: Number,\n            originalPrice: Number\n        },\n        US: {\n            price: Number,\n            originalPrice: Number\n        }\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Product || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Product\", ProductSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvUHJvZHVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0I7QUFFL0IsTUFBTUMsZ0JBQWdCLElBQUlELHdEQUFlLENBQUM7SUFDdENHLEtBQUs7UUFDREMsTUFBTUM7UUFDTkMsVUFBVTtZQUFDO1lBQU07U0FBdUM7UUFDeERDLFFBQVE7SUFDWjtJQUNBQyxNQUFNO1FBQ0ZKLE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQXdDO0lBQzdEO0lBQ0FHLFNBQVM7UUFDTEwsTUFBTUM7SUFDVjtJQUNBSyxPQUFPO1FBQ0hOLE1BQU1PO1FBQ05MLFVBQVU7WUFBQztZQUFNO1NBQTJCO0lBQ2hEO0lBQ0FNLGVBQWU7UUFDWFIsTUFBTU87SUFDVjtJQUNBRSxVQUFVO1FBQ05ULE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQThCO0lBQ25EO0lBQ0FRLE9BQU87UUFDSFYsTUFBTUM7SUFDVjtJQUNBVSxhQUFhO1FBQ1RYLE1BQU1DO0lBQ1Y7SUFDQVcsUUFBUTtRQUNKQyxJQUFJO1lBQ0FQLE9BQU9DO1lBQ1BDLGVBQWVEO1FBQ25CO1FBQ0FPLElBQUk7WUFDQVIsT0FBT0M7WUFDUEMsZUFBZUQ7UUFDbkI7SUFDSjtBQUNKO0FBRUEsaUVBQWVYLHdEQUFlLENBQUNvQixPQUFPLElBQUlwQixxREFBYyxDQUFDLFdBQVdDLGNBQWNBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sYW5kaW5nLXBhZ2UvLi9tb2RlbHMvUHJvZHVjdC5qcz8wOWM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIGtleToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0xhIGNsYXZlIGRlbCBwcm9kdWN0byBlcyBvYmxpZ2F0b3JpYSddLFxuICAgICAgICB1bmlxdWU6IHRydWUsXG4gICAgfSxcbiAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRWwgbm9tYnJlIGRlbCBwcm9kdWN0byBlcyBvYmxpZ2F0b3JpbyddLFxuICAgIH0sXG4gICAgdmFyaWFudDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgfSxcbiAgICBwcmljZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0VsIHByZWNpbyBlcyBvYmxpZ2F0b3JpbyddLFxuICAgIH0sXG4gICAgb3JpZ2luYWxQcmljZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgfSxcbiAgICBjYXRlZ29yeToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0xhIGNhdGVnb3LDrWEgZXMgb2JsaWdhdG9yaWEnXSxcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIHByaWNlczoge1xuICAgICAgICBNWDoge1xuICAgICAgICAgICAgcHJpY2U6IE51bWJlcixcbiAgICAgICAgICAgIG9yaWdpbmFsUHJpY2U6IE51bWJlcixcbiAgICAgICAgfSxcbiAgICAgICAgVVM6IHtcbiAgICAgICAgICAgIHByaWNlOiBOdW1iZXIsXG4gICAgICAgICAgICBvcmlnaW5hbFByaWNlOiBOdW1iZXIsXG4gICAgICAgIH1cbiAgICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuUHJvZHVjdCB8fCBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIFByb2R1Y3RTY2hlbWEpXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwia2V5IiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwibmFtZSIsInZhcmlhbnQiLCJwcmljZSIsIk51bWJlciIsIm9yaWdpbmFsUHJpY2UiLCJjYXRlZ29yeSIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJwcmljZXMiLCJNWCIsIlVTIiwibW9kZWxzIiwiUHJvZHVjdCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/Product.js\n");

/***/ }),

/***/ "(api)/./pages/api/products/bulk.js":
/*!************************************!*\
  !*** ./pages/api/products/bulk.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/dbConnect */ \"(api)/./lib/dbConnect.js\");\n/* harmony import */ var _models_Product__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/Product */ \"(api)/./models/Product.js\");\n\n\nasync function handler(req, res) {\n    const { method } = req;\n    await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    if (method === \"POST\") {\n        const { action, products } = req.body;\n        try {\n            // ACTION: RESET DISCOUNTS (Prepare for new season)\n            if (action === \"reset_discounts\") {\n                // Find all products\n                const allProducts = await _models_Product__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({});\n                let count = 0;\n                for (const p of allProducts){\n                    let modified = false;\n                    // Reset MX\n                    if (p.prices && p.prices.MX && p.prices.MX.originalPrice) {\n                        p.prices.MX.price = p.prices.MX.originalPrice;\n                        modified = true;\n                    } else if (p.originalPrice) {\n                        // Fallback logic\n                        if (!p.prices) p.prices = {};\n                        p.prices.MX = {\n                            originalPrice: p.originalPrice,\n                            price: p.originalPrice\n                        };\n                        modified = true;\n                    }\n                    // Reset US\n                    if (p.prices && p.prices.US && p.prices.US.originalPrice) {\n                        p.prices.US.price = p.prices.US.originalPrice;\n                        modified = true;\n                    }\n                    if (modified) {\n                        p.markModified(\"prices\");\n                        await p.save();\n                        count++;\n                    }\n                }\n                return res.status(200).json({\n                    success: true,\n                    message: `Se restablecieron los precios base de ${count} productos.`\n                });\n            }\n            // ACTION: BULK IMPORT (Upsert)\n            if (action === \"import\") {\n                if (!Array.isArray(products) || products.length === 0) {\n                    return res.status(400).json({\n                        success: false,\n                        message: \"No hay productos para importar\"\n                    });\n                }\n                let created = 0;\n                let updated = 0;\n                for (const item of products){\n                    // Normalize data\n                    const key = String(item.clave).trim();\n                    if (!key) continue;\n                    // Calculate Final Prices\n                    const mxOrig = Number(item.precio_mx) || 0;\n                    const mxDesc = Number(item.desc_mx) || 0;\n                    const mxFinal = mxOrig * (1 - mxDesc / 100);\n                    const usOrig = Number(item.precio_us) || 0;\n                    const usDesc = Number(item.desc_us) || 0;\n                    const usFinal = usOrig * (1 - usDesc / 100);\n                    // Build Update Object\n                    const updateData = {\n                        name: item.nombre,\n                        category: item.categoria || \"General\",\n                        // Store root fields for backward compatibility/default\n                        price: mxFinal,\n                        originalPrice: mxOrig,\n                        key: key,\n                        // Nested Prices (The Source of Truth)\n                        prices: {\n                            MX: {\n                                originalPrice: mxOrig,\n                                price: Number(mxFinal.toFixed(2))\n                            },\n                            US: {\n                                originalPrice: usOrig,\n                                price: Number(usFinal.toFixed(2))\n                            }\n                        }\n                    };\n                    if (item.imagen) updateData.image = item.imagen;\n                    if (item.variante) updateData.variant = item.variante;\n                    // Upsert (Update if exists, Create if not)\n                    const result = await _models_Product__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOneAndUpdate({\n                        key: key\n                    }, {\n                        $set: updateData\n                    }, {\n                        upsert: true,\n                        new: true,\n                        setDefaultsOnInsert: true\n                    });\n                    // Check if it was a new doc (createdAt approx now) or we can assume based on result\n                    // Mongoose findOneAndUpdate doesn't easily return \"created vs updated\" boolean in one go without raw result\n                    // We'll just count total processed for now vs errors\n                    updated++;\n                }\n                return res.status(200).json({\n                    success: true,\n                    message: `Proceso completado. ${updated} productos procesados.`\n                });\n            }\n            return res.status(400).json({\n                success: false,\n                message: \"Acci\\xf3n no v\\xe1lida\"\n            });\n        } catch (error) {\n            console.error(\"Bulk Error:\", error);\n            return res.status(500).json({\n                success: false,\n                message: error.message\n            });\n        }\n    } else {\n        res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsZUFBZUE7WUFDN0IsT0FBTzFELElBQUlpQixNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO2dCQUFPQyxTQUFTc0MsTUFBTXRDLE9BQU87WUFBQztRQUN6RTtJQUNKLE9BQU87UUFDSHBCLElBQUlpQixNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBT0MsU0FBUztRQUFxQjtJQUN6RTtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZGluZy1wYWdlLy4vcGFnZXMvYXBpL3Byb2R1Y3RzL2J1bGsuanM/NzgzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGJDb25uZWN0IGZyb20gJy4uLy4uLy4uL2xpYi9kYkNvbm5lY3QnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uLy4uLy4uL21vZGVscy9Qcm9kdWN0J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gICAgY29uc3QgeyBtZXRob2QgfSA9IHJlcVxyXG4gICAgYXdhaXQgZGJDb25uZWN0KClcclxuXHJcbiAgICBpZiAobWV0aG9kID09PSAnUE9TVCcpIHtcclxuICAgICAgICBjb25zdCB7IGFjdGlvbiwgcHJvZHVjdHMgfSA9IHJlcS5ib2R5XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEFDVElPTjogUkVTRVQgRElTQ09VTlRTIChQcmVwYXJlIGZvciBuZXcgc2Vhc29uKVxyXG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSAncmVzZXRfZGlzY291bnRzJykge1xyXG4gICAgICAgICAgICAgICAgLy8gRmluZCBhbGwgcHJvZHVjdHNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFsbFByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHt9KVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDBcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcCBvZiBhbGxQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtb2RpZmllZCA9IGZhbHNlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IE1YXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAucHJpY2VzICYmIHAucHJpY2VzLk1YICYmIHAucHJpY2VzLk1YLm9yaWdpbmFsUHJpY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcC5wcmljZXMuTVgucHJpY2UgPSBwLnByaWNlcy5NWC5vcmlnaW5hbFByaWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocC5vcmlnaW5hbFByaWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcC5wcmljZXMpIHAucHJpY2VzID0ge31cclxuICAgICAgICAgICAgICAgICAgICAgICAgcC5wcmljZXMuTVggPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlOiBwLm9yaWdpbmFsUHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogcC5vcmlnaW5hbFByaWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBVU1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwLnByaWNlcyAmJiBwLnByaWNlcy5VUyAmJiBwLnByaWNlcy5VUy5vcmlnaW5hbFByaWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHAucHJpY2VzLlVTLnByaWNlID0gcC5wcmljZXMuVVMub3JpZ2luYWxQcmljZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RpZmllZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwLm1hcmtNb2RpZmllZCgncHJpY2VzJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcC5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrK1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBgU2UgcmVzdGFibGVjaWVyb24gbG9zIHByZWNpb3MgYmFzZSBkZSAke2NvdW50fSBwcm9kdWN0b3MuYCB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBQ1RJT046IEJVTEsgSU1QT1JUIChVcHNlcnQpXHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdpbXBvcnQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvZHVjdHMpIHx8IHByb2R1Y3RzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTm8gaGF5IHByb2R1Y3RvcyBwYXJhIGltcG9ydGFyJyB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjcmVhdGVkID0gMFxyXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSAwXHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm9ybWFsaXplIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBTdHJpbmcoaXRlbS5jbGF2ZSkudHJpbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFrZXkpIGNvbnRpbnVlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBGaW5hbCBQcmljZXNcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBteE9yaWcgPSBOdW1iZXIoaXRlbS5wcmVjaW9fbXgpIHx8IDBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBteERlc2MgPSBOdW1iZXIoaXRlbS5kZXNjX214KSB8fCAwXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXhGaW5hbCA9IG14T3JpZyAqICgxIC0gKG14RGVzYyAvIDEwMCkpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzT3JpZyA9IE51bWJlcihpdGVtLnByZWNpb191cykgfHwgMFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzRGVzYyA9IE51bWJlcihpdGVtLmRlc2NfdXMpIHx8IDBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c0ZpbmFsID0gdXNPcmlnICogKDEgLSAodXNEZXNjIC8gMTAwKSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVpbGQgVXBkYXRlIE9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubm9tYnJlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogaXRlbS5jYXRlZ29yaWEgfHwgJ0dlbmVyYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSByb290IGZpZWxkcyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS9kZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBteEZpbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFByaWNlOiBteE9yaWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXN0ZWQgUHJpY2VzIChUaGUgU291cmNlIG9mIFRydXRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1YOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogbXhPcmlnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBOdW1iZXIobXhGaW5hbC50b0ZpeGVkKDIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVTOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogdXNPcmlnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBOdW1iZXIodXNGaW5hbC50b0ZpeGVkKDIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pbWFnZW4pIHVwZGF0ZURhdGEuaW1hZ2UgPSBpdGVtLmltYWdlblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhcmlhbnRlKSB1cGRhdGVEYXRhLnZhcmlhbnQgPSBpdGVtLnZhcmlhbnRlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwc2VydCAoVXBkYXRlIGlmIGV4aXN0cywgQ3JlYXRlIGlmIG5vdClcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9kdWN0LmZpbmRPbmVBbmRVcGRhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBrZXkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyAkc2V0OiB1cGRhdGVEYXRhIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdXBzZXJ0OiB0cnVlLCBuZXc6IHRydWUsIHNldERlZmF1bHRzT25JbnNlcnQ6IHRydWUgfVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQgd2FzIGEgbmV3IGRvYyAoY3JlYXRlZEF0IGFwcHJveCBub3cpIG9yIHdlIGNhbiBhc3N1bWUgYmFzZWQgb24gcmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTW9uZ29vc2UgZmluZE9uZUFuZFVwZGF0ZSBkb2Vzbid0IGVhc2lseSByZXR1cm4gXCJjcmVhdGVkIHZzIHVwZGF0ZWRcIiBib29sZWFuIGluIG9uZSBnbyB3aXRob3V0IHJhdyByZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSdsbCBqdXN0IGNvdW50IHRvdGFsIHByb2Nlc3NlZCBmb3Igbm93IHZzIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQrK1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6IGBQcm9jZXNvIGNvbXBsZXRhZG8uICR7dXBkYXRlZH0gcHJvZHVjdG9zIHByb2Nlc2Fkb3MuYCB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0FjY2nDs24gbm8gdsOhbGlkYScgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQnVsayBFcnJvcjonLCBlcnJvcilcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pXHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImRiQ29ubmVjdCIsIlByb2R1Y3QiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiYWN0aW9uIiwicHJvZHVjdHMiLCJib2R5IiwiYWxsUHJvZHVjdHMiLCJmaW5kIiwiY291bnQiLCJwIiwibW9kaWZpZWQiLCJwcmljZXMiLCJNWCIsIm9yaWdpbmFsUHJpY2UiLCJwcmljZSIsIlVTIiwibWFya01vZGlmaWVkIiwic2F2ZSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImNyZWF0ZWQiLCJ1cGRhdGVkIiwiaXRlbSIsImtleSIsIlN0cmluZyIsImNsYXZlIiwidHJpbSIsIm14T3JpZyIsIk51bWJlciIsInByZWNpb19teCIsIm14RGVzYyIsImRlc2NfbXgiLCJteEZpbmFsIiwidXNPcmlnIiwicHJlY2lvX3VzIiwidXNEZXNjIiwiZGVzY191cyIsInVzRmluYWwiLCJ1cGRhdGVEYXRhIiwibmFtZSIsIm5vbWJyZSIsImNhdGVnb3J5IiwiY2F0ZWdvcmlhIiwidG9GaXhlZCIsImltYWdlbiIsImltYWdlIiwidmFyaWFudGUiLCJ2YXJpYW50IiwicmVzdWx0IiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRzZXQiLCJ1cHNlcnQiLCJuZXciLCJzZXREZWZhdWx0c09uSW5zZXJ0IiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/products/bulk.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fbulk&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cbulk.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();