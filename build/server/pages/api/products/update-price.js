"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/products/update-price";
exports.ids = ["pages/api/products/update-price"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fupdate-price&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cupdate-price.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fupdate-price&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cupdate-price.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_products_update_price_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\products\\update-price.js */ \"(api)/./pages/api/products/update-price.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_update_price_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_update_price_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/products/update-price\",\n        pathname: \"/api/products/update-price\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_products_update_price_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnByb2R1Y3RzJTJGdXBkYXRlLXByaWNlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNwcm9kdWN0cyU1Q3VwZGF0ZS1wcmljZS5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNvRTtBQUNwRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0VBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdFQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2xhbmRpbmctcGFnZS8/OWU5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHByb2R1Y3RzXFxcXHVwZGF0ZS1wcmljZS5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2R1Y3RzL3VwZGF0ZS1wcmljZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb2R1Y3RzL3VwZGF0ZS1wcmljZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fupdate-price&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cupdate-price.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dbConnect.js":
/*!**************************!*\
  !*** ./lib/dbConnect.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25uZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUUvQixNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2QsTUFBTSxJQUFJRyxNQUNOO0FBRVI7QUFFQTs7OztDQUlDLEdBQ0QsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDVEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQzNEO0FBRUEsZUFBZUM7SUFDWCxJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDYixPQUFPRixPQUFPRSxJQUFJO0lBQ3RCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDakIsTUFBTUUsT0FBTztZQUNUQyxnQkFBZ0I7UUFDcEI7UUFFQU4sT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsYUFBYVMsTUFBTUcsSUFBSSxDQUFDLENBQUNiO1lBQ3ZELE9BQU9BO1FBQ1g7SUFDSjtJQUNBLElBQUk7UUFDQUssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDdEMsRUFBRSxPQUFPTSxHQUFHO1FBQ1JULE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNTTtJQUNWO0lBRUEsT0FBT1QsT0FBT0UsSUFBSTtBQUN0QjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZGluZy1wYWdlLy4vbGliL2RiQ29ubmVjdC5qcz8xZDNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUklcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAnUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUgaW5zaWRlIC5lbnYubG9jYWwnXHJcbiAgICApXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHbG9iYWwgaXMgdXNlZCBoZXJlIHRvIG1haW50YWluIGEgY2FjaGVkIGNvbm5lY3Rpb24gYWNyb3NzIGhvdCByZWxvYWRzXHJcbiAqIGluIGRldmVsb3BtZW50LiBUaGlzIHByZXZlbnRzIGNvbm5lY3Rpb25zIGdyb3dpbmcgZXhwb25lbnRpYWxseVxyXG4gKiBkdXJpbmcgQVBJIFJvdXRlIHVzYWdlLlxyXG4gKi9cclxubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZVxyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICAgIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICAgIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQuY29ublxyXG4gICAgfVxyXG5cclxuICAgIGlmICghY2FjaGVkLnByb21pc2UpIHtcclxuICAgICAgICBjb25zdCBvcHRzID0ge1xyXG4gICAgICAgICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkksIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb25nb29zZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2VcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjYWNoZWQucHJvbWlzZSA9IG51bGxcclxuICAgICAgICB0aHJvdyBlXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdFxyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwiY29ubmVjdCIsInRoZW4iLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/dbConnect.js\n");

/***/ }),

/***/ "(api)/./models/Product.js":
/*!***************************!*\
  !*** ./models/Product.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ProductSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    key: {\n        type: String,\n        required: [\n            true,\n            \"La clave del producto es obligatoria\"\n        ],\n        unique: true\n    },\n    name: {\n        type: String,\n        required: [\n            true,\n            \"El nombre del producto es obligatorio\"\n        ]\n    },\n    variant: {\n        type: String\n    },\n    price: {\n        type: Number,\n        required: [\n            true,\n            \"El precio es obligatorio\"\n        ]\n    },\n    originalPrice: {\n        type: Number\n    },\n    category: {\n        type: String,\n        required: [\n            true,\n            \"La categor\\xeda es obligatoria\"\n        ]\n    },\n    image: {\n        type: String\n    },\n    description: {\n        type: String\n    },\n    prices: {\n        MX: {\n            price: Number,\n            originalPrice: Number\n        },\n        US: {\n            price: Number,\n            originalPrice: Number\n        }\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Product || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Product\", ProductSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvUHJvZHVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0I7QUFFL0IsTUFBTUMsZ0JBQWdCLElBQUlELHdEQUFlLENBQUM7SUFDdENHLEtBQUs7UUFDREMsTUFBTUM7UUFDTkMsVUFBVTtZQUFDO1lBQU07U0FBdUM7UUFDeERDLFFBQVE7SUFDWjtJQUNBQyxNQUFNO1FBQ0ZKLE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQXdDO0lBQzdEO0lBQ0FHLFNBQVM7UUFDTEwsTUFBTUM7SUFDVjtJQUNBSyxPQUFPO1FBQ0hOLE1BQU1PO1FBQ05MLFVBQVU7WUFBQztZQUFNO1NBQTJCO0lBQ2hEO0lBQ0FNLGVBQWU7UUFDWFIsTUFBTU87SUFDVjtJQUNBRSxVQUFVO1FBQ05ULE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQThCO0lBQ25EO0lBQ0FRLE9BQU87UUFDSFYsTUFBTUM7SUFDVjtJQUNBVSxhQUFhO1FBQ1RYLE1BQU1DO0lBQ1Y7SUFDQVcsUUFBUTtRQUNKQyxJQUFJO1lBQ0FQLE9BQU9DO1lBQ1BDLGVBQWVEO1FBQ25CO1FBQ0FPLElBQUk7WUFDQVIsT0FBT0M7WUFDUEMsZUFBZUQ7UUFDbkI7SUFDSjtBQUNKO0FBRUEsaUVBQWVYLHdEQUFlLENBQUNvQixPQUFPLElBQUlwQixxREFBYyxDQUFDLFdBQVdDLGNBQWNBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sYW5kaW5nLXBhZ2UvLi9tb2RlbHMvUHJvZHVjdC5qcz8wOWM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIGtleToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0xhIGNsYXZlIGRlbCBwcm9kdWN0byBlcyBvYmxpZ2F0b3JpYSddLFxuICAgICAgICB1bmlxdWU6IHRydWUsXG4gICAgfSxcbiAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRWwgbm9tYnJlIGRlbCBwcm9kdWN0byBlcyBvYmxpZ2F0b3JpbyddLFxuICAgIH0sXG4gICAgdmFyaWFudDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgfSxcbiAgICBwcmljZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0VsIHByZWNpbyBlcyBvYmxpZ2F0b3JpbyddLFxuICAgIH0sXG4gICAgb3JpZ2luYWxQcmljZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgfSxcbiAgICBjYXRlZ29yeToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0xhIGNhdGVnb3LDrWEgZXMgb2JsaWdhdG9yaWEnXSxcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIHByaWNlczoge1xuICAgICAgICBNWDoge1xuICAgICAgICAgICAgcHJpY2U6IE51bWJlcixcbiAgICAgICAgICAgIG9yaWdpbmFsUHJpY2U6IE51bWJlcixcbiAgICAgICAgfSxcbiAgICAgICAgVVM6IHtcbiAgICAgICAgICAgIHByaWNlOiBOdW1iZXIsXG4gICAgICAgICAgICBvcmlnaW5hbFByaWNlOiBOdW1iZXIsXG4gICAgICAgIH1cbiAgICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuUHJvZHVjdCB8fCBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIFByb2R1Y3RTY2hlbWEpXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwia2V5IiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwibmFtZSIsInZhcmlhbnQiLCJwcmljZSIsIk51bWJlciIsIm9yaWdpbmFsUHJpY2UiLCJjYXRlZ29yeSIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJwcmljZXMiLCJNWCIsIlVTIiwibW9kZWxzIiwiUHJvZHVjdCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/Product.js\n");

/***/ }),

/***/ "(api)/./pages/api/products/update-price.js":
/*!********************************************!*\
  !*** ./pages/api/products/update-price.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/dbConnect */ \"(api)/./lib/dbConnect.js\");\n/* harmony import */ var _models_Product__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/Product */ \"(api)/./models/Product.js\");\n\n\nasync function handler(req, res) {\n    const { method } = req;\n    await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    if (method === \"POST\") {\n        try {\n            const { key, pricesMX, pricesUS } = req.body;\n            if (!key) {\n                return res.status(400).json({\n                    success: false,\n                    message: \"Key is required\"\n                });\n            }\n            const product = await _models_Product__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n                key\n            });\n            if (!product) {\n                return res.status(404).json({\n                    success: false,\n                    message: \"Product not found\"\n                });\n            }\n            // Ensure prices structure exists\n            if (!product.prices) {\n                product.prices = {\n                    MX: {},\n                    US: {}\n                };\n            }\n            if (!product.prices.MX) product.prices.MX = {};\n            if (!product.prices.US) product.prices.US = {};\n            // --- Update MX Prices ---\n            if (pricesMX) {\n                const { originalPrice, price } = pricesMX;\n                // Mongoose friendly update\n                product.prices.MX.originalPrice = Number(originalPrice);\n                product.prices.MX.price = Number(price);\n                // BACKWARD COMPATIBILITY: Update root fields with MX prices\n                product.originalPrice = Number(originalPrice);\n                product.price = Number(price);\n            }\n            // --- Update US Prices ---\n            if (pricesUS) {\n                const { originalPrice, price } = pricesUS;\n                product.prices.US.originalPrice = Number(originalPrice);\n                product.prices.US.price = Number(price);\n            }\n            // Mark modified to guarantee save of mixed/nested types if schema is loose\n            product.markModified(\"prices\");\n            await product.save();\n            res.status(200).json({\n                success: true,\n                data: product\n            });\n        } catch (error) {\n            console.error(\"Update Price Error:\", error);\n            // Return 'message' so frontend displays it correctly\n            res.status(400).json({\n                success: false,\n                message: error.message || \"Error desconocido en servidor\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcHJvZHVjdHMvdXBkYXRlLXByaWNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUNEO0FBRTlCLGVBQWVFLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUMxQyxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHRjtJQUVuQixNQUFNSCwwREFBU0E7SUFFZixJQUFJSyxXQUFXLFFBQVE7UUFDbkIsSUFBSTtZQUNBLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRSxHQUFHTCxJQUFJTSxJQUFJO1lBRTVDLElBQUksQ0FBQ0gsS0FBSztnQkFDTixPQUFPRixJQUFJTSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxTQUFTO29CQUFPQyxTQUFTO2dCQUFrQjtZQUM3RTtZQUVBLE1BQU1DLFVBQVUsTUFBTWIsK0RBQWUsQ0FBQztnQkFBRUs7WUFBSTtZQUU1QyxJQUFJLENBQUNRLFNBQVM7Z0JBQ1YsT0FBT1YsSUFBSU0sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsU0FBUztvQkFBT0MsU0FBUztnQkFBb0I7WUFDL0U7WUFFQSxpQ0FBaUM7WUFDakMsSUFBSSxDQUFDQyxRQUFRRSxNQUFNLEVBQUU7Z0JBQ2pCRixRQUFRRSxNQUFNLEdBQUc7b0JBQUVDLElBQUksQ0FBQztvQkFBR0MsSUFBSSxDQUFDO2dCQUFFO1lBQ3RDO1lBQ0EsSUFBSSxDQUFDSixRQUFRRSxNQUFNLENBQUNDLEVBQUUsRUFBRUgsUUFBUUUsTUFBTSxDQUFDQyxFQUFFLEdBQUcsQ0FBQztZQUM3QyxJQUFJLENBQUNILFFBQVFFLE1BQU0sQ0FBQ0UsRUFBRSxFQUFFSixRQUFRRSxNQUFNLENBQUNFLEVBQUUsR0FBRyxDQUFDO1lBRTdDLDJCQUEyQjtZQUMzQixJQUFJWCxVQUFVO2dCQUNWLE1BQU0sRUFBRVksYUFBYSxFQUFFQyxLQUFLLEVBQUUsR0FBR2I7Z0JBRWpDLDJCQUEyQjtnQkFDM0JPLFFBQVFFLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDRSxhQUFhLEdBQUdFLE9BQU9GO2dCQUN6Q0wsUUFBUUUsTUFBTSxDQUFDQyxFQUFFLENBQUNHLEtBQUssR0FBR0MsT0FBT0Q7Z0JBRWpDLDREQUE0RDtnQkFDNUROLFFBQVFLLGFBQWEsR0FBR0UsT0FBT0Y7Z0JBQy9CTCxRQUFRTSxLQUFLLEdBQUdDLE9BQU9EO1lBQzNCO1lBRUEsMkJBQTJCO1lBQzNCLElBQUlaLFVBQVU7Z0JBQ1YsTUFBTSxFQUFFVyxhQUFhLEVBQUVDLEtBQUssRUFBRSxHQUFHWjtnQkFFakNNLFFBQVFFLE1BQU0sQ0FBQ0UsRUFBRSxDQUFDQyxhQUFhLEdBQUdFLE9BQU9GO2dCQUN6Q0wsUUFBUUUsTUFBTSxDQUFDRSxFQUFFLENBQUNFLEtBQUssR0FBR0MsT0FBT0Q7WUFDckM7WUFFQSwyRUFBMkU7WUFDM0VOLFFBQVFRLFlBQVksQ0FBQztZQUVyQixNQUFNUixRQUFRUyxJQUFJO1lBRWxCbkIsSUFBSU0sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsU0FBUztnQkFBTVksTUFBTVY7WUFBUTtRQUN4RCxFQUFFLE9BQU9XLE9BQU87WUFDWkMsUUFBUUQsS0FBSyxDQUFDLHVCQUF1QkE7WUFDckMscURBQXFEO1lBQ3JEckIsSUFBSU0sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsU0FBUztnQkFBT0MsU0FBU1ksTUFBTVosT0FBTyxJQUFJO1lBQWdDO1FBQ3JHO0lBQ0osT0FBTztRQUNIVCxJQUFJTSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBT0MsU0FBUztRQUFxQjtJQUN6RTtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZGluZy1wYWdlLy4vcGFnZXMvYXBpL3Byb2R1Y3RzL3VwZGF0ZS1wcmljZS5qcz8wMmYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYkNvbm5lY3QgZnJvbSAnLi4vLi4vLi4vbGliL2RiQ29ubmVjdCdcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vLi4vLi4vbW9kZWxzL1Byb2R1Y3QnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCB7IG1ldGhvZCB9ID0gcmVxXHJcblxyXG4gICAgYXdhaXQgZGJDb25uZWN0KClcclxuXHJcbiAgICBpZiAobWV0aG9kID09PSAnUE9TVCcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB7IGtleSwgcHJpY2VzTVgsIHByaWNlc1VTIH0gPSByZXEuYm9keVxyXG5cclxuICAgICAgICAgICAgaWYgKCFrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnS2V5IGlzIHJlcXVpcmVkJyB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsga2V5IH0pXHJcblxyXG4gICAgICAgICAgICBpZiAoIXByb2R1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnUHJvZHVjdCBub3QgZm91bmQnIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEVuc3VyZSBwcmljZXMgc3RydWN0dXJlIGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAoIXByb2R1Y3QucHJpY2VzKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0LnByaWNlcyA9IHsgTVg6IHt9LCBVUzoge30gfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghcHJvZHVjdC5wcmljZXMuTVgpIHByb2R1Y3QucHJpY2VzLk1YID0ge31cclxuICAgICAgICAgICAgaWYgKCFwcm9kdWN0LnByaWNlcy5VUykgcHJvZHVjdC5wcmljZXMuVVMgPSB7fVxyXG5cclxuICAgICAgICAgICAgLy8gLS0tIFVwZGF0ZSBNWCBQcmljZXMgLS0tXHJcbiAgICAgICAgICAgIGlmIChwcmljZXNNWCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBvcmlnaW5hbFByaWNlLCBwcmljZSB9ID0gcHJpY2VzTVhcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBNb25nb29zZSBmcmllbmRseSB1cGRhdGVcclxuICAgICAgICAgICAgICAgIHByb2R1Y3QucHJpY2VzLk1YLm9yaWdpbmFsUHJpY2UgPSBOdW1iZXIob3JpZ2luYWxQcmljZSlcclxuICAgICAgICAgICAgICAgIHByb2R1Y3QucHJpY2VzLk1YLnByaWNlID0gTnVtYmVyKHByaWNlKVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEJBQ0tXQVJEIENPTVBBVElCSUxJVFk6IFVwZGF0ZSByb290IGZpZWxkcyB3aXRoIE1YIHByaWNlc1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdC5vcmlnaW5hbFByaWNlID0gTnVtYmVyKG9yaWdpbmFsUHJpY2UpXHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0LnByaWNlID0gTnVtYmVyKHByaWNlKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAtLS0gVXBkYXRlIFVTIFByaWNlcyAtLS1cclxuICAgICAgICAgICAgaWYgKHByaWNlc1VTKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IG9yaWdpbmFsUHJpY2UsIHByaWNlIH0gPSBwcmljZXNVU1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2R1Y3QucHJpY2VzLlVTLm9yaWdpbmFsUHJpY2UgPSBOdW1iZXIob3JpZ2luYWxQcmljZSlcclxuICAgICAgICAgICAgICAgIHByb2R1Y3QucHJpY2VzLlVTLnByaWNlID0gTnVtYmVyKHByaWNlKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBNYXJrIG1vZGlmaWVkIHRvIGd1YXJhbnRlZSBzYXZlIG9mIG1peGVkL25lc3RlZCB0eXBlcyBpZiBzY2hlbWEgaXMgbG9vc2VcclxuICAgICAgICAgICAgcHJvZHVjdC5tYXJrTW9kaWZpZWQoJ3ByaWNlcycpXHJcblxyXG4gICAgICAgICAgICBhd2FpdCBwcm9kdWN0LnNhdmUoKVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBwcm9kdWN0IH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVXBkYXRlIFByaWNlIEVycm9yOicsIGVycm9yKVxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gJ21lc3NhZ2UnIHNvIGZyb250ZW5kIGRpc3BsYXlzIGl0IGNvcnJlY3RseVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBkZXNjb25vY2lkbyBlbiBzZXJ2aWRvcicgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pXHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImRiQ29ubmVjdCIsIlByb2R1Y3QiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwia2V5IiwicHJpY2VzTVgiLCJwcmljZXNVUyIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJwcm9kdWN0IiwiZmluZE9uZSIsInByaWNlcyIsIk1YIiwiVVMiLCJvcmlnaW5hbFByaWNlIiwicHJpY2UiLCJOdW1iZXIiLCJtYXJrTW9kaWZpZWQiLCJzYXZlIiwiZGF0YSIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/products/update-price.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fupdate-price&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Cupdate-price.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();